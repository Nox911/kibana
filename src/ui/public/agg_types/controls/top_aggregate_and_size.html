<div ng-controller="aggParam.controller" class="visEditorAgg__formRow--flex">
  <div class="form-group visEditorAgg__formRow--split">
    <label
      for="visEditorTopHitsAggregate{{agg.id}}"
      i18n-id="common.ui.aggTypes.controls.aggregationWithLabel"
      i18n-default-message="Aggregate with"
    ><icon-tip
        content="{{ ::'common.ui.aggTypes.controls.aggregationWithTooltip' | i18n: { defaultMessage: '&quot;Choose a strategy for combining multiple hits or a multi-valued field into a single metric&quot;' } }}"
      ></icon-tip>
    </label>

    <select
      required
      id="visEditorTopHitsAggregate{{agg.id}}"
      name="aggregate"
      ng-model="agg.params.aggregate"
      ng-options="opt as opt.display for opt in options| orderBy: 'display' track by opt.val"
      class="form-control"
    ></select>
  </div>
  <div class="form-group visEditorAgg__formRow--split">
    <label
      for="visEditorTopHitsSize{{agg.id}}"
      i18n-id="common.ui.aggTypes.controls.sizeLabel"
      i18n-default-message="Size"
    ><icon-tip
        content="{{ ::'common.ui.aggTypes.controls.sizeTooltip' | i18n: { defaultMessage: '&quot;Request top-K hits. Multiple hits will be combined via \'aggregate with\'.&quot;' } }}"
      ></icon-tip>
    </label>

    <input
       required
       id="visEditorTopHitsSize{{agg.id}}"
       name="size"
       ng-model="agg.params.size"
       class="form-control"
       type="number"
       min="1"
    ></input>
  </div>
</div>
